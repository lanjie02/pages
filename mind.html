<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>jsMind Example</title>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsmind/style/jsmind.css" />
</head>
<body>
    <div id="jsmind_container" style="width: 100%; height: 100vh;"></div>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jsmind/js/jsmind.js"></script>
    <script type="text/javascript">
        // 定义一个函数从接口获取数据
        async function fetchMindMapData() {
            const response = await fetch('https://lanjie02.github.io/pages/api/mindmap?sub1=Custom1&sub2=Custom2&sub3=Custom3');
            const data = await response.json();
            return data;
        }

        // 初始化脑图
        async function initMindMap() {
            const mindData = await fetchMindMapData();
            const mind = {
                "meta": {
                    "name": "example",
                    "author": "hizzgdev@163.com",
                    "version": "0.2"
                },
                "format": "node_array",
                "data": mindData
            };

            const options = {
                container: 'jsmind_container',
                editable: true,
                theme: 'primary'
            };

            const jm = new jsMind(options);
            jm.show(mind);
        }

        // 调用初始化函数
        initMindMap();
    </script>
</body>
</html>
